<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="l17_calendar1.css">
    <title>js calendar</title>
  </head>
  <body>
  <h1>(일정 등록되는)달력 만들기</h1>
    <h2>
       <button type="button">2021년 8월</button>
       <span id="toDate">2021년 9월</span>
       <button type="button">2021년 10월</button>
     </h2>
    <table id="calendarTable">
      <thead>
        <tr>
          <th>일</th>
          <th>월</th>
          <th>화</th>
          <th>수</th>
          <th>목</th>
          <th>금</th>
          <th>토</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
          <td>
            <div class="day_container">
              <h5 class="day"></h5>
              <ul class="schedule">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
  <script>
const tdList= document.querySelectorAll("#calendarTable td");
for(td of tdList){
  td.onmouseenter=(event)=>{
    event.target.querySelector(".schedule").style.visibility="visible";
  }
  td.addEventListener("mouseleave",function(event){
    event.target.querySelector(".schedule").style.visibility="hidden";
  })
}

//9월 마지막 일 구하기
let lastDay=new Date(2021,9,0).getDate();
//9월의 시작하는 요일 구하기
let firstDay=new Date(2021,8,1).getDay();
//let a=1,b=2;
//활성화된 해당 월 출력
for(let i=firstDay,d=1; i<lastDay+firstDay; i++){
  tdList[i].querySelector(".day").innerText=d++;
  tdList[i].classList.add("active"); //활성화된 td 스타일
}
//전달의 마지막날 구하기
let lastMonth=new Date(paraYear,dateMonth,0).getDate();
//선언된 변수가 조건문의 대입되지 않는 경우 기본값을 주어라.

/*
let next_button_month= (paraMonth + 1 == 13) ? 1 : paraMonth + 1;
let next_button_year= (paraMonth + 1 == 13) ? paraYear - 1 : paraYear;
let pre_button_month = (paraMonth-1==0)? 12:paraMonth-1;
let pre_button_year = (paraMonth-1==0)? paraYear-1:paraYear;

if(paraMonth==13){
  next_button_month=1;
  next_button_year=paraYear+1;
}else{
  next_button_month=paraMonth+1;
  next_button_year=paraYear;
}
*/

/*
const changeMonth = {
  next:{
    month: (paraMonth + 1 == 13) ? 1 : paraMonth + 1, 
    year: (paraMonth + 1 == 13) ? paraYear-1 : paraYear,
    text: function(){return `${this.year}년 ${this.month}월 `} ,
    value: function(){return this.year + "-" + this.month} 
  }, 
  pre:{
    month: (paraMonth - 1 == 0) ? 12 : paraMonth - 1,
    year: (paraMonth - 1 == 0) ? paraYear - 1 : paraYear,
    text: function(){return `${this.year}년 ${this.month}월 `} ,
    value: function(){return this.year + "-" + this.month} 
  }
};
*/

console.log(changeMonth);
//함수로 JSON 객체 선언하는법
function changeButton(para_month,para_year){
  this.month=para_month; //this.key : 객체에 key 를 만듬.
  this.year=para_year;
  this.text=this.year+"년 "+this.month+"월 ";
  this.value=this.year+"-"+this.month;
}
//new changeButton(month,year);
const nextBtn = (paraMonth+1==13)? new changeButton(1,paraYear+1) : new changeButton(paraMonth+1,paraYear);
const preBtn = (paraMonth - 1 == 0) ? new changeButton(12, paraYear - 1) : new changeButton(paraMonth - 1, paraYear);
const changeMonth={
  next:nextBtn,
  pre:preBtn
}

  document.getElementById("toDate").innerText = `${paraYear}, ${paraMonth}`;
  document.getElementById("nextMonth").innerText = changeMonth.next.text();
  document.getElementById("nextMonth").value = changeMonth.next.value();
  document.getElementById("preMonth").innerText = changeMonth.pre.text();
  document.getElementById("preMonth").value = changeMonth.pre.value();

//비활성화된 전달의 출력
for(let i=firstDay-1; i>=0; i--){
  tdList[i].querySelector(".day").innerText=lastMonth--;
  tdList[i].classList.add("disabled");//비활성화된 td 스타일
}
//비활성화된 다음달 출력
let nextMonth=firstDay+lastDay
for(let i=nextMonth,num=1; i<=tdList.length-1; i++){
  tdList[i].querySelector(".day").innerText=num++;
  tdList[i].classList.add("disabled");//비활성화된 td 스타일
}

function printCalendar(paraYear, paraMonth){

} 
</script>
</html>
